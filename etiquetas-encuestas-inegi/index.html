<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Etiquetado de variables y valores en las encuestas de INEGI usando Python | Blog de Juan Santos</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Etiquetado de variables y valores en las encuestas de INEGI usando Python" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Para entender los datos de encuestas es necesario contar con un diccionario de variables y un catálogo de valores para las variables que se analizan. Organizar esta información puede ser un reto cuando estos metadatos vienen en archivos planos como .csv. Aquí muestro una aplicación usando datos de la ENSU de INEGI." />
<meta property="og:description" content="Para entender los datos de encuestas es necesario contar con un diccionario de variables y un catálogo de valores para las variables que se analizan. Organizar esta información puede ser un reto cuando estos metadatos vienen en archivos planos como .csv. Aquí muestro una aplicación usando datos de la ENSU de INEGI." />
<link rel="canonical" href="http://blog.jjsantoso.com/etiquetas-encuestas-inegi/" />
<meta property="og:url" content="http://blog.jjsantoso.com/etiquetas-encuestas-inegi/" />
<meta property="og:site_name" content="Blog de Juan Santos" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-08T00:00:00-06:00" />
<script type="application/ld+json">
{"url":"http://blog.jjsantoso.com/etiquetas-encuestas-inegi/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.jjsantoso.com/etiquetas-encuestas-inegi/"},"headline":"Etiquetado de variables y valores en las encuestas de INEGI usando Python","dateModified":"2021-03-08T00:00:00-06:00","datePublished":"2021-03-08T00:00:00-06:00","description":"Para entender los datos de encuestas es necesario contar con un diccionario de variables y un catálogo de valores para las variables que se analizan. Organizar esta información puede ser un reto cuando estos metadatos vienen en archivos planos como .csv. Aquí muestro una aplicación usando datos de la ENSU de INEGI.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://blog.jjsantoso.com/feed.xml" title="Blog de Juan Santos" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-177879700-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Blog de Juan Santos</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">Bio</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Etiquetado de variables y valores en las encuestas de INEGI usando Python</h1><p class="page-description">Para entender los datos de encuestas es necesario contar con un diccionario de variables y un catálogo de valores para las variables que se analizan. Organizar esta información puede ser un reto cuando estos metadatos vienen en archivos planos como `.csv`. Aquí muestro una aplicación usando datos de la ENSU de INEGI.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-03-08T00:00:00-06:00" itemprop="datePublished">
        Mar 8, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      13 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#pandas">pandas</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#encuestas">encuestas</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#inegi">inegi</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          
          
          
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#Introducción">Introducción </a></li>
<li class="toc-entry toc-h2"><a href="#Datos">Datos </a></li>
<li class="toc-entry toc-h2"><a href="#Uso-de-las-etiquetas">Uso de las etiquetas </a></li>
<li class="toc-entry toc-h2"><a href="#Si-usas-Stata...(o-incluso-si-no)">Si usas Stata...(o incluso si no) </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-03-08-etiquetas en encuestas.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote>
<p>Elaborado por Juan Javier Santos Ochoa (<a href="https://twitter.com/jjsantoso">@jjsantoso</a>)</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introducción">
<a class="anchor" href="#Introducci%C3%B3n" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introducción<a class="anchor-link" href="#Introducci%C3%B3n"> </a>
</h2>
<p>Hace poco me tocó trabajar con los datos de una encuesta de INEGI y usé Python para hacer el análisis descriptivo. Quienes trabajamos con datos del INEGI hemos visto que es usual que los archivos de datos abiertos vengan en varias carpetas que contienen tanto los datos como los metadatos e información adicional sobre la encuesta. Por ejemplo, si descargamos los datos para la <a href="https://www.inegi.org.mx/programas/ensu/#Datos_abiertos">Encuesta Nacional de Seguridad Pública Urbana (ENSU)</a> veremos que vienen 3 carpetas, cada una corresponde a una sección de la encuesta:
</p>
<div class="flash">
    <svg class="octicon octicon-info" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>
    <strong>Note: </strong>Los datos se pueden descargar directamente de la página de INEGI, pero aquí dejo una copia de los que yo usé para este tutorial. <a href="http://jjsantoso.com/blog/datos/conjunto_de_datos_ENSU_2020_4t_csv.zip">Descargar datos</a>
</div>
<ul>
<li>
<code>conjunto_de_datos_VIV_ENSU_12_2020</code>: Cuestionario sociodemográfico sección I y II</li>
<li>
<code>conjunto_de_datos_CS_ENSU_12_2020</code>: Cuestionario sociodemográfico sección III</li>
<li>
<code>conjunto_de_datos_CB_ENSU_12_2020</code>: Cuestionario principal de la encuesta sección I, II, III y IV</li>
</ul>
<p>Si vemos al interior de uno de estos módulos, la estructura incluye las siguientes carpetas:</p>
<ul>
<li>
<strong>Catálogos</strong>: tiene los catálogos para cada variable en el cuestionario</li>
<li>
<strong>Conjunto de datos</strong>: tiene los datos principales de la encuesta</li>
<li>
<strong>Diccionario de datos</strong>: el nombre e información de cada variable</li>
<li>
<strong>Metadatos</strong>: tiene información de la encuesta.</li>
<li>
<strong>Modelo entidad relación</strong>: es un diagrama que muestra cómo se relacionan los diferentes conjuntos de datos.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/images/copied_from_nb/imagenes/estructura_folders.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Si echamos un vistazo rápido a los datos en Excel (<code>conjunto_de_datos/conjunto_de_datos_CB_ENSU_12_2020.csv</code>) veremos que la mayor parte de las variables viene codificada. Solo con este archivo no podemos saber qué es cada columna y cuáles es el significado de sus valores. Nos hace falta el diccionario de variables y los catálogos para poder interpretarlas.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/images/copied_from_nb/imagenes/datos_csv.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>En el archivo  <code>diccionario_de_datos/diccionario_de_datos_CB_ENSU_12_2020.csv</code> tenemos cuál es el texto de cada pregunta. De ahí sabemos que, por ejemplo, la pregunta <code>BP1_1</code> es "Percepción de seguridad en la ciudad". Estos valores se conocen como etiquetas de las variables.</p>
<p>Por otro lado, dentro de la carpeta <code>catalogos</code> viene un archivo <code>csv</code> por cada variable del conjunto de datos.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/images/copied_from_nb/imagenes/archivos_catalogo.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Este archivo nos dice cómo debemos transformar los valores numéricos de las categorías por sus valores de texto. Por ejemplo, si abrimos el archivo "BP1_1.csv" su contenido nos muestra que para la variable <code>BP1_1</code> debemos interpretar que un 1 corresponde a la categorías "seguro?", el 2 corresponde a "inseguro?" y el 9 a "No sabe/No responde". Estos valores se conocen como etiquetas de los valores.
</p>
<div class="flash">
    <svg class="octicon octicon-info octicon octicon-info" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>
    <strong>Note: </strong>Las etiquetas de valores tiene sentido para variables categóricas, es decir las que tienen pocos valores nominales. Para variables numéricas o puramente de texto no es necesario usar etiquetas de valores.
</div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/images/copied_from_nb/imagenes/catalogo__bp1.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Es evidente que para manejar una encuesta es fundamental conocer las etiquetas de las variables y sus valores. Sería mucho más fácil si estas etiquetas estuvieran incluidas en el mismo archivo junto con los datos, pero como están en formato <code>.csv</code> no es posible guadar esa información en un solo archivo y por tanto, termina repartida en muchos. Entonces, nuestro objetivo es integrar el diccionario y el catálogo a los datos para que sea más fácil hacer nuestro análisis. Queremos que en las tablas o gráficas que hagamos, las variables categóricas aparezcan como texto, en lugar de los valores numéricos que asignó INEGI. De igual forma, nos gustaría que en lugar de aparecer el nombre de la variable como en la base de datos, aparezca su descripción. Para lograr esto usaremos objetos tipo diccionario nativos de Python y dataframes de Pandas.
</p>
<div class="flash flash-success">
    <svg class="octicon octicon-checklist" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 1.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v7.736a.75.75 0 101.5 0V1.75A1.75 1.75 0 0011.25 0h-8.5A1.75 1.75 0 001 1.75v11.5c0 .966.784 1.75 1.75 1.75h3.17a.75.75 0 000-1.5H2.75a.25.25 0 01-.25-.25V1.75zM4.75 4a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5zM4 7.75A.75.75 0 014.75 7h2a.75.75 0 010 1.5h-2A.75.75 0 014 7.75zm11.774 3.537a.75.75 0 00-1.048-1.074L10.7 14.145 9.281 12.72a.75.75 0 00-1.062 1.058l1.943 1.95a.75.75 0 001.055.008l4.557-4.45z"></path></svg>
    <strong>Tip: </strong>Otros formatos de datos, como por ejemplo los archivos <code>.dta</code> de Stata o <code>.sav</code> de SPSS sí permiten guardar esas etiquetas junto con los datos, sin embargo, esos no son formatos de datos abiertos que sean fácilmente accesible. En algunos casos, como en la <a href="https://www.inegi.org.mx/programas/enoe/15ymas/#Microdatos">ENOE</a>, INEGI también publica archivos <code>.dta</code> y <code>.sav</code>.
</div>
<h2 id="Datos">
<a class="anchor" href="#Datos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Datos<a class="anchor-link" href="#Datos"> </a>
</h2>
<p>Primero, vamos a importar las librerías necesarias.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Python'</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Python 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]
pandas 1.1.3
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Para ilustrar, vamos a seleccionar los datos de la carpeta <code>conjunto_de_datos_CB_ENSU_12_2020</code> (Cuestionario principal de la encuesta sección I, II, III y IV).</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'conjunto_de_datos_CB_ENSU_12_2020/conjunto_de_datos/conjunto_de_datos_CB_ENSU_12_2020.csv'</span><span class="p">)</span>
<span class="n">datos</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID_VIV</th>
      <th>ID_PER</th>
      <th>UPM</th>
      <th>VIV_SEL</th>
      <th>R_SEL</th>
      <th>CVE_ENT</th>
      <th>NOM_ENT</th>
      <th>CVE_MUN</th>
      <th>NOM_MUN</th>
      <th>LOC</th>
      <th>...</th>
      <th>BP4_1_5</th>
      <th>BP4_1_6</th>
      <th>BP4_1_7</th>
      <th>BP4_1_8</th>
      <th>BP4_1_9</th>
      <th>FAC_SEL</th>
      <th>DOMINIO</th>
      <th>EST</th>
      <th>UPM_DIS</th>
      <th>EST_DIS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100188.049</td>
      <td>0100188.049.03\r</td>
      <td>100188</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4046</td>
      <td>U\r</td>
      <td>3</td>
      <td>10</td>
      <td>1390</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100188.072</td>
      <td>0100188.072.06\r</td>
      <td>100188</td>
      <td>2</td>
      <td>6</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>6069</td>
      <td>U\r</td>
      <td>3</td>
      <td>10</td>
      <td>1390</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100188.093</td>
      <td>0100188.093.03\r</td>
      <td>100188</td>
      <td>3</td>
      <td>3</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>3035</td>
      <td>U\r</td>
      <td>3</td>
      <td>10</td>
      <td>1390</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100188.111</td>
      <td>0100188.111.01\r</td>
      <td>100188</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>3035</td>
      <td>U\r</td>
      <td>3</td>
      <td>10</td>
      <td>1390</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100295.009</td>
      <td>0100295.009.01\r</td>
      <td>100295</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>Aguascalientes\r</td>
      <td>1</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>1704</td>
      <td>U\r</td>
      <td>4</td>
      <td>20</td>
      <td>1400</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 176 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datos</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 22283 entries, 0 to 22282
Columns: 176 entries, ID_VIV to EST_DIS
dtypes: float64(1), int64(84), object(91)
memory usage: 29.9+ MB
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Necesitamos el diccionario de variables y los catálogos. Para el diccionario de variables cargamos el archivo <code>conjunto_de_datos_CB_ENSU_12_2020/diccionario_de_datos/diccionario_de_datos_CB_ENSU_12_2020.csv</code></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">preguntas</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'conjunto_de_datos_CB_ENSU_12_2020/diccionario_de_datos/diccionario_de_datos_CB_ENSU_12_2020.csv'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'latin1'</span><span class="p">)</span>
<span class="n">preguntas</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NOMBRE_CAMPO</th>
      <th>NEMONICO</th>
      <th>TIPO</th>
      <th>LONGITUD</th>
      <th>RANGO_CLAVES</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Identificador de vivienda seleccionada</td>
      <td>ID_VIV</td>
      <td>Alfanumérico</td>
      <td>11</td>
      <td>0100001.001,,3299999.999\r</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Identificador del informante seleccionado</td>
      <td>ID_PER</td>
      <td>Alfanumérico</td>
      <td>14</td>
      <td>0100001.001.01,..., 3299999.999.30\r</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Unidad Primaria de Muestreo</td>
      <td>UPM</td>
      <td>Numérico</td>
      <td>7</td>
      <td>01000013299999\r</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Vivienda seleccionada</td>
      <td>VIV_SEL</td>
      <td>Numérico</td>
      <td>2</td>
      <td>0109\r</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Número de renglón de la persona seleccionada</td>
      <td>R_SEL</td>
      <td>Numérico</td>
      <td>2</td>
      <td>0130\r</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Clave Entidad</td>
      <td>CVE_ENT</td>
      <td>Numérico</td>
      <td>2</td>
      <td>01\r</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Clave Entidad</td>
      <td>CVE_ENT</td>
      <td>Numérico</td>
      <td>2</td>
      <td>02\r</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Clave Entidad</td>
      <td>CVE_ENT</td>
      <td>Numérico</td>
      <td>2</td>
      <td>03\r</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Clave Entidad</td>
      <td>CVE_ENT</td>
      <td>Numérico</td>
      <td>2</td>
      <td>04\r</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Clave Entidad</td>
      <td>CVE_ENT</td>
      <td>Numérico</td>
      <td>2</td>
      <td>05\r</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Este nos muestra cómo aparece cada variable en el archivo de datos ("NEMONICO") y cuál es su descripción ("NOMBRE_CAMPO"), además contiene el tipo y rango de valores que puede tener cada variable. Por esta razón, el nombre de cada variable puede estar repetido varias veces. Lo que haremos es eliminar los duplicados y quedarnos con los valores únicos, para después crear un objeto diccionario que tenga como llaves el "NEMONICO" y como valores el "NOMBRE_CAMPO". A continuación se ve el proceso y el resultado:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dicc_preguntas</span> <span class="o">=</span> <span class="n">preguntas</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">'NEMONICO'</span><span class="p">])</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'NEMONICO'</span><span class="p">)[</span><span class="s1">'NOMBRE_CAMPO'</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dicc_preguntas</span><span class="p">)[:</span><span class="mi">500</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{'ID_VIV': 'Identificador de vivienda seleccionada', 'ID_PER': 'Identificador del informante seleccionado', 'UPM': 'Unidad Primaria de Muestreo ', 'VIV_SEL': 'Vivienda seleccionada', 'R_SEL': 'Número de renglón de la persona seleccionada', 'CVE_ENT': 'Clave Entidad', 'NOM_ENT': 'Nombre de la Entidad', 'CVE_MUN': 'Clave Municipio', 'NOM_MUN': 'Nombre del Municipio', 'LOC': 'Localidad', 'CD': 'Ciudad', 'NOM_CD': 'Nombre de la Ciudad', 'PER': 'Periodo de la entrevista', 'R_DEF': 'Resultado definiti
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Para el catálogo tenemos que trabajar un poco más porque la información está en muchos archivos. Primero vamos a generar una lista de todos los archivos en la carpeta <code>catalogo</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dir_catalogos</span> <span class="o">=</span> <span class="s1">'conjunto_de_datos_CB_ENSU_12_2020/catalogos/'</span>
<span class="n">archivos_catalogo_respuestas</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob1</span><span class="p">(</span><span class="n">dir_catalogos</span><span class="p">,</span> <span class="s1">'*.csv'</span><span class="p">)</span>
<span class="n">archivos_catalogo_respuestas</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>['BP1_1.csv',
 'BP1_10_1.csv',
 'BP1_10_2.csv',
 'BP1_10_3.csv',
 'BP1_10_4.csv',
 'BP1_10_5.csv',
 'BP1_2_01.csv',
 'BP1_2_02.csv',
 'BP1_2_03.csv',
 'BP1_2_04.csv']</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A continuación vamos a leer cada uno de los archivos individuales y generar un diccionario por comprensión que contenga como llaves el "NEMONICO" y los valores serán otro diccionario que tiene la relación de los valores numéricos y de texto para los valores de cada variable.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dicc_respuestas</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]:</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">dir_catalogos</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s1">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'latin1'</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="n">f</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">])[</span><span class="s1">'descrip'</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">archivos_catalogo_respuestas</span>
<span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dicc_respuestas</span><span class="p">)[:</span><span class="mi">500</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{'BP1_1': {1: 'seguro?', 2: 'inseguro?', 9: 'No sabe / no responde'}, 'BP1_10_1': {1: 'Mucha confianza', 2: 'Algo de confianza', 3: 'Algo de desconfianza', 4: 'Mucha desconfianza', 9: 'No sabe / no responde'}, 'BP1_10_2': {1: 'Mucha confianza', 2: 'Algo de confianza', 3: 'Algo de desconfianza', 4: 'Mucha desconfianza', 9: 'No sabe / no responde'}, 'BP1_10_3': {1: 'Mucha confianza', 2: 'Algo de confianza', 3: 'Algo de desconfianza', 4: 'Mucha desconfianza', 9: 'No sabe / no responde'}, 'BP1_10_4'
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ahora tenemos dos diccionarios, uno con las etiquetas de las variables (<code>dicc_preguntas</code>) y otro con las etiquetas de los valores de cada pregunta <code>dicc_respuestas</code>. En ambos diccionarios la llave principal es el némonico de la pregunta, por tanto si queremos saber cuáles son las etiquetas de variables y valores solo tenemos que indexar los diccionarios con el nemónico correspondiente, por ejemplo para "SEX" y "BP1_1" obtenemos:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">'Etiqueta de variable:'</span><span class="p">,</span> <span class="n">dicc_preguntas</span><span class="p">[</span><span class="s1">'SEX'</span><span class="p">],</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">Etiqueta de valores'</span><span class="p">,</span><span class="n">dicc_respuestas</span><span class="p">[</span><span class="s1">'SEX'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Etiqueta de variable: Sexo 
Etiqueta de valores {1: 'Hombre', 2: 'Mujer'}
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">'Etiqueta de variable:'</span><span class="p">,</span> <span class="n">dicc_preguntas</span><span class="p">[</span><span class="s1">'BP1_1'</span><span class="p">],</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">Etiqueta de valores'</span><span class="p">,</span><span class="n">dicc_respuestas</span><span class="p">[</span><span class="s1">'BP1_1'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Etiqueta de variable: Percepción de seguridad en la ciudad 
Etiqueta de valores {1: 'seguro?', 2: 'inseguro?', 9: 'No sabe / no responde'}
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Uso-de-las-etiquetas">
<a class="anchor" href="#Uso-de-las-etiquetas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Uso de las etiquetas<a class="anchor-link" href="#Uso-de-las-etiquetas"> </a>
</h2>
<p>Ya que tenemos las etiquetas, veamos cómo podemos usarlas para interpretar mejor en nuestros análisis. Hagamos una tabulación cruzada para ver la distribución de respuestas de las variables "SEX" y "BP1_1"
</p>
<div class="flash flash-error">
    <svg class="octicon octicon-alert" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <strong>Warning: </strong>En estos ejemplos no estamos considerando que cada observación tiene una ponderación distinta (variable <code>FAC_SEL</code>) por tanto los resultados no son estimaciones válidas. En una próxima entrada veremos cómo integrar las ponderaciones.
</div>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">datos</span><span class="p">[</span><span class="s1">'SEX'</span><span class="p">],</span> <span class="n">datos</span><span class="p">[</span><span class="s1">'BP1_1'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>BP1_1</th>
      <th>1</th>
      <th>2</th>
      <th>9</th>
    </tr>
    <tr>
      <th>SEX</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>4268</td>
      <td>5849</td>
      <td>33</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3703</td>
      <td>8379</td>
      <td>51</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>El índice del dataframe y los nombres de las columnas contienen los valores numéricos de las categorías. Vamos a reemplazarlos por sus valores de texto renombrándolo con el método <code>.rename()</code></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">datos</span><span class="p">[</span><span class="s1">'SEX'</span><span class="p">],</span> <span class="n">datos</span><span class="p">[</span><span class="s1">'BP1_1'</span><span class="p">])</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">dicc_respuestas</span><span class="p">[</span><span class="s1">'SEX'</span><span class="p">],</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">dicc_respuestas</span><span class="p">[</span><span class="s1">'BP1_1'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>BP1_1</th>
      <th>seguro?</th>
      <th>inseguro?</th>
      <th>No sabe / no responde</th>
    </tr>
    <tr>
      <th>SEX</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Hombre</th>
      <td>4268</td>
      <td>5849</td>
      <td>33</td>
    </tr>
    <tr>
      <th>Mujer</th>
      <td>3703</td>
      <td>8379</td>
      <td>51</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ahora es mucho más fácil de entender esta tabla.</p>
<p>Vamos a hacer otra tabla similar a la anterior, pero en este caso desagregando por más variables y usando el método groupby:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vars_by</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'SEX'</span><span class="p">,</span> <span class="s1">'BP1_1'</span><span class="p">,</span> <span class="s1">'BP1_5_1'</span><span class="p">]</span>
<span class="n">grouped</span> <span class="o">=</span> <span class="n">datos</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">vars_by</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="p">(</span><span class="s1">'ID_PER'</span><span class="p">,</span> <span class="s1">'count'</span><span class="p">))</span>
<span class="n">grouped</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>N</th>
    </tr>
    <tr>
      <th>SEX</th>
      <th>BP1_1</th>
      <th>BP1_5_1</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="11" valign="top">1</th>
      <th rowspan="4" valign="top">1</th>
      <th>1</th>
      <td>1255</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2821</td>
    </tr>
    <tr>
      <th>3</th>
      <td>190</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">2</th>
      <th>1</th>
      <td>3587</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2010</td>
    </tr>
    <tr>
      <th>3</th>
      <td>249</td>
    </tr>
    <tr>
      <th>9</th>
      <td>3</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">9</th>
      <th>1</th>
      <td>14</td>
    </tr>
    <tr>
      <th>2</th>
      <td>16</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">2</th>
      <th rowspan="4" valign="top">1</th>
      <th>1</th>
      <td>1463</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1995</td>
    </tr>
    <tr>
      <th>3</th>
      <td>243</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nuevamente reemplazamos los valores de las categorías usando el método <code>.rename()</code>. Hacemos un loop para reemplazar las categorías de cada variable. Como tenemos varios niveles en el índice, especificamos la opción <code>level</code> para que use solo el catálogo con la variable que le corresponde.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">vars_by</span><span class="p">:</span>
    <span class="n">grouped</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">dicc_respuestas</span><span class="p">[</span><span class="n">v</span><span class="p">],</span> <span class="n">level</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">grouped</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>N</th>
    </tr>
    <tr>
      <th>SEX</th>
      <th>BP1_1</th>
      <th>BP1_5_1</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="11" valign="top">Hombre</th>
      <th rowspan="4" valign="top">seguro?</th>
      <th>Sí</th>
      <td>1255</td>
    </tr>
    <tr>
      <th>No</th>
      <td>2821</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>190</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>2</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">inseguro?</th>
      <th>Sí</th>
      <td>3587</td>
    </tr>
    <tr>
      <th>No</th>
      <td>2010</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>249</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>3</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">No sabe / no responde</th>
      <th>Sí</th>
      <td>14</td>
    </tr>
    <tr>
      <th>No</th>
      <td>16</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>3</td>
    </tr>
    <tr>
      <th rowspan="12" valign="top">Mujer</th>
      <th rowspan="4" valign="top">seguro?</th>
      <th>Sí</th>
      <td>1463</td>
    </tr>
    <tr>
      <th>No</th>
      <td>1995</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>243</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>2</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">inseguro?</th>
      <th>Sí</th>
      <td>5783</td>
    </tr>
    <tr>
      <th>No</th>
      <td>2192</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>400</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>4</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">No sabe / no responde</th>
      <th>Sí</th>
      <td>19</td>
    </tr>
    <tr>
      <th>No</th>
      <td>23</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>7</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Para que sea más fácil de ver, reestructuramos la tabla usando <code>.unstack()</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">grouped</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="s1">'BP1_1'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th colspan="3" halign="left">N</th>
    </tr>
    <tr>
      <th></th>
      <th>BP1_1</th>
      <th>No sabe / no responde</th>
      <th>inseguro?</th>
      <th>seguro?</th>
    </tr>
    <tr>
      <th>SEX</th>
      <th>BP1_5_1</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="4" valign="top">Hombre</th>
      <th>No</th>
      <td>16.0</td>
      <td>2010.0</td>
      <td>2821.0</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>3.0</td>
      <td>249.0</td>
      <td>190.0</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>NaN</td>
      <td>3.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Sí</th>
      <td>14.0</td>
      <td>3587.0</td>
      <td>1255.0</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">Mujer</th>
      <th>No</th>
      <td>23.0</td>
      <td>2192.0</td>
      <td>1995.0</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>7.0</td>
      <td>400.0</td>
      <td>243.0</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>2.0</td>
      <td>4.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Sí</th>
      <td>19.0</td>
      <td>5783.0</td>
      <td>1463.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ya integramps las etiquetas de los valores, ahora faltan las etiquetas de las variables. Para eso usaremos el método <code>.rename_axis()</code></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cuadro</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="s1">'BP1_1'</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">dicc_preguntas</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">dicc_preguntas</span><span class="p">)</span>

<span class="n">cuadro</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th colspan="3" halign="left">N</th>
    </tr>
    <tr>
      <th></th>
      <th>Percepción de seguridad en la ciudad</th>
      <th>No sabe / no responde</th>
      <th>inseguro?</th>
      <th>seguro?</th>
    </tr>
    <tr>
      <th>Sexo</th>
      <th>Cambiar sus hábitos respecto a llevar cosas de valor por temor a sufrir algún delito</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="4" valign="top">Hombre</th>
      <th>No</th>
      <td>16.0</td>
      <td>2010.0</td>
      <td>2821.0</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>3.0</td>
      <td>249.0</td>
      <td>190.0</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>NaN</td>
      <td>3.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Sí</th>
      <td>14.0</td>
      <td>3587.0</td>
      <td>1255.0</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">Mujer</th>
      <th>No</th>
      <td>23.0</td>
      <td>2192.0</td>
      <td>1995.0</td>
    </tr>
    <tr>
      <th>No aplica</th>
      <td>7.0</td>
      <td>400.0</td>
      <td>243.0</td>
    </tr>
    <tr>
      <th>No sabe / no responde</th>
      <td>2.0</td>
      <td>4.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Sí</th>
      <td>19.0</td>
      <td>5783.0</td>
      <td>1463.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nuestro cuadro ya es entendible, podemos exportarlo a Excel y verificar que tenemos las etiquetas:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cuadro</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">'reporte.xlsx'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/images/copied_from_nb/imagenes/datos_excel.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Si-usas-Stata...(o-incluso-si-no)">
<a class="anchor" href="#Si-usas-Stata...(o-incluso-si-no)" aria-hidden="true"><span class="octicon octicon-link"></span></a>Si usas Stata...(o incluso si no)<a class="anchor-link" href="#Si-usas-Stata...(o-incluso-si-no)"> </a>
</h2>
<p>Como dije antes, el formato <code>.dta</code> permite guardar las etiquetas de variables y valores junto con los datos. Los DataFrames de Pandas traen de forma nativa el método <code>.to_stata()</code> para exportar la información a este formato. Para que Stata reconozca correctamnete las etiquetas de valores es necesario que en pandas las variables sean de <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html">tipo categoria</a>. A continuación, vamos a seleccionar un subconjunto de variables, reemplazaremos sus valores numéricos por las categorías de texto y convertiremos la variable en tipo categórica:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vars_export</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'SEX'</span><span class="p">,</span> <span class="s1">'BP1_1'</span><span class="p">,</span> <span class="s1">'BP1_2_01'</span><span class="p">,</span> <span class="s1">'BP1_2_02'</span><span class="p">,</span> <span class="s1">'BP1_2_03'</span><span class="p">,</span> <span class="s1">'BP1_2_04'</span><span class="p">,</span> <span class="s1">'BP1_2_05'</span><span class="p">,</span> <span class="s1">'BP1_2_06'</span><span class="p">,</span> <span class="s1">'BP1_2_07'</span><span class="p">,</span> <span class="s1">'BP1_2_08'</span><span class="p">,</span> <span class="s1">'BP1_2_09'</span><span class="p">,</span> <span class="s1">'BP1_2_10'</span><span class="p">,</span> <span class="s1">'BP1_2_11'</span><span class="p">,</span> <span class="s1">'BP1_2_12'</span><span class="p">]</span>
<span class="n">datos_stata</span> <span class="o">=</span> <span class="n">datos</span><span class="p">[</span><span class="n">vars_export</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">dicc_respuestas</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">name</span><span class="p">]))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">'category'</span><span class="p">)</span>
<span class="n">datos_stata</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SEX</th>
      <th>BP1_1</th>
      <th>BP1_2_01</th>
      <th>BP1_2_02</th>
      <th>BP1_2_03</th>
      <th>BP1_2_04</th>
      <th>BP1_2_05</th>
      <th>BP1_2_06</th>
      <th>BP1_2_07</th>
      <th>BP1_2_08</th>
      <th>BP1_2_09</th>
      <th>BP1_2_10</th>
      <th>BP1_2_11</th>
      <th>BP1_2_12</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Hombre</td>
      <td>seguro?</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Hombre</td>
      <td>inseguro?</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Hombre</td>
      <td>inseguro?</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Mujer</td>
      <td>inseguro?</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>No aplica</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Hombre</td>
      <td>seguro?</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>22278</th>
      <td>Hombre</td>
      <td>inseguro?</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
    </tr>
    <tr>
      <th>22279</th>
      <td>Hombre</td>
      <td>inseguro?</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
    </tr>
    <tr>
      <th>22280</th>
      <td>Hombre</td>
      <td>seguro?</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>No aplica</td>
    </tr>
    <tr>
      <th>22281</th>
      <td>Mujer</td>
      <td>inseguro?</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Inseguro(a)</td>
    </tr>
    <tr>
      <th>22282</th>
      <td>Mujer</td>
      <td>seguro?</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>No aplica</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Seguro(a)</td>
      <td>Inseguro(a)</td>
    </tr>
  </tbody>
</table>
<p>22283 rows × 14 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Este dataframe lo exportaremos a Stata, junto con el diccionario que contiene las etiquetas de variables, especificando en la opción <code>variable_labels</code>.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datos_stata</span><span class="o">.</span><span class="n">to_stata</span><span class="p">(</span><span class="s1">'datos_stata.dta'</span><span class="p">,</span> <span class="n">write_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">variable_labels</span><span class="o">=</span><span class="n">dicc_preguntas</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Al abrir el arcivo en Stata podemos ver que efectivamente se guardaron las etiquetas de los valores y de las variables:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/images/copied_from_nb/imagenes/datos_stata.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hasta donde entiendo, esta sería una forma más fácil de etiquetar datos provenientes de INEGI para usuarios de Stata que haciendo el procedimiento entero en Stata. Igualmente, para los que no son usuarios de Stata, pero sí de Python o R y quieren conservar las variables categóricas etiquetadas este es un buen formato.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datos_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_stata</span><span class="p">(</span><span class="s1">'datos_stata.dta'</span><span class="p">)</span>
<span class="n">datos_2</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>SEX         category
BP1_1       category
BP1_2_01    category
BP1_2_02    category
BP1_2_03    category
BP1_2_04    category
BP1_2_05    category
BP1_2_06    category
BP1_2_07    category
BP1_2_08    category
BP1_2_09    category
BP1_2_10    category
BP1_2_11    category
BP1_2_12    category
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    

</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="jjsantos01/jjsantosoblog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/etiquetas-encuestas-inegi/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Intentando aplicar ciencia de datos a las ciencias sociales.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
